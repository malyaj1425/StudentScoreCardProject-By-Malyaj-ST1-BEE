<!-- made by malyaj at chitkara university -->
<!-- made by malyaj at chitkara university -->

<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Score Card</title>

    <style>
      .form{
        display: flex;
        justify-content: flex-start;
        flex-direction: column;
        align-items: center;
        background:linear-gradient(180deg ,rgb(216, 245, 245),white);
      }
      .form div{
        display:flex;
        justify-content:space-evenly;
        width: 80%;
        gap: 1rem;
      }

      .form div input{
        width: 40%;
        margin-left: auto;
        margin-right:auto;
      }
      .form div label{
        width: 50%;
        /* margin-left: auto;
        margin-right:auto; */
      }
    </style>
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/css/bootstrap.min.css"
      integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T"
      crossorigin="anonymous"
    />

    <script>
      function validateForm() {
        var ID = document.forms["frm"]["ID"].value;
        var NAME = document.forms["frm"]["NAME"].value;
        var ADDR = document.forms["frm"]["ADDR"].value;
        var java = document.forms["frm"]["JAVA"].value;
        var cpp = document.forms["frm"]["CPP"].value;
        var nalr = document.forms["frm"]["NALR"].value;
        var fd = document.forms["frm"]["FD"].value;
        var bc = document.forms["frm"]["BC"].value;
        if (ID < 100 || ID > 999) {
          alert("invalid ID");
          return false;
        }
        if (NAME.length > 30 || NAME.length < 1) {
          alert("character limit is 30");
          return false;
        }
        if (ADDR.length > 100 || ADDR.length < 10) {
          alert("character limit is 100");
          return false;
        }
        if (java < 0 || java > 100) {
          alert("invalid marks");
          return false;
        }
        if (cpp < 0 || cpp > 100) {
          alert("invalid marks");
          return false;
        }
        if (nalr < 0 || nalr > 100) {
          alert("invalid marks");
          return false;
        }
        if (fd < 0 || fd > 100) {
          alert("invalid marks");
          return false;
        }
        if (bc < 0 || bc > 100) {
          alert("invalid marks");
          return false;
        }

        fetch("/form")
          .then(function (response) {
            return response.json();
          })
          .then(function (data) {
            appendData(data);
          })
          .catch(function (err) {
            console.log("error: " + err);
          });
        function appendData(data) {
          for (var i = 0; i < data.length; i++) {
            if (data[i].id == ID) {
              alert("ID already in use!");
              return false;
            }
          }
        }
      }
    </script>
  </head>
<!-- made by malyaj at chitkara university -->
<!-- made by malyaj at chitkara university -->

  <body>
    <center>
      <h1>SCORE CARD FORM</h1>
      <form
        action="/new"
        class="form"
        name="frm"
        method="post"
        onsubmit="return validateForm()"
      >
        <div class="form">
          <h2>DETAILS</h2>
          
          <div>
            <label>Enter ID: </label><input
              type="number"
              placeholder="ID"
              name="ID"
            />
          </div>
          <div>
            <label>Enter Name: </label><input
              type="text"
              placeholder="Name"
              name="NAME"
            />
          </div>
          <div>
            <label>Enter Address: </label><input
              type="text"
              placeholder="Address"
              name="ADDR"
            />
          </div>
          <h2>MARKS (OUT OF 100)</h2>
          
          <div>
            <label>JAVA: </label><input
              type="number"
              placeholder="marks"
              name="JAVA"
            />
          </div>
          <div>
            <label>CPP: </label><input
              type="number"
              placeholder="marks"
              name="CPP"
            />
          </div>

          <div>
            <label>NALR: </label><input
              type="number"
              placeholder="marks"
              name="NALR"
            />
          </div>

          <div>
            <label>F&D: </label><input
              type="number"
              placeholder="marks"
              name="FD"
            />
          </div>
          <div>
            <label>Business Comm:</label><input
              type="number"
              placeholder="marks"
              name="BC"
            />
          </div>
          <input type="submit" value="SUBMIT" />
        </div>
      </form>
    </center>
  </body>
</html>
<!-- made by malyaj at chitkara university -->
<!-- made by malyaj at chitkara university -->

